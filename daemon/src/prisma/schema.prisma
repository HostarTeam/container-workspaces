generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model Client {
  client_id     String @id
  client_secret String

  @@map("clients")
  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model Config {
  config Json

  @@map("config")
  @@ignore
}

model Container {
  id    Int     @id @default(autoincrement())
  ipv4  String
  ready Boolean

  @@map("cts")
}

model IP {
  id      Int     @id @default(autoincrement())
  ipv4    String
  gateway String
  netmask String
  used    Boolean
  nodes   Json?

  @@map("ips")
}

model Location {
  id       Int    @id @default(autoincrement())
  location String

  @@map("locations")
}

model Node {
  id       Int     @id @default(autoincrement())
  nodename String
  is_main  Boolean
  ip       String
  location Int

  @@map("nodes")
}

model Task {
  id          Int       @id @default(autoincrement())
  containerID Int
  start_time  DateTime  @default(now())
  end_time    DateTime?
  data        Json?
  status      String?
  error       String?

  @@map("tasks")
}
